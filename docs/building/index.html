<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <link rel="stylesheet" type="text/css" href="../style.css">
        <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
        <meta charset="utf-8">
        <meta name="description" content="Hobby operating system homepage">
        <meta name="keywords" content="osdev, os, hobby os">

        <title>Building | CeneOS</title>
    </head>
    <body>
        <div class="navbar">
            <p class="navbar-p">CeneOS</p>
            <a href="../index.html">Home</a>
            <a href="building/index.html" class="active">Building</a>
        </div>

        <div class="header">
            <div class="content">
                <div class="font-sizer">
                    <h1>Building CeneOS</h1>
                    <p style="text-align: left">To build CeneOS you need:</p>
                    <ul style="padding-left: 75px">
                        <li>nasm</li>
                        <li>i686-elf-gcc</li>
                        <li>GRUB</li>
                        <li>QEMU</li>
                    </ul>
                    <h2>Host: macOS</h2>
                    <h3>Installing tools to build CeneOS</h3>

                    <p style="text-align: left">Getting NASM, i686-elf-gcc, and QEMU:</p>
                    <pre class="prettyprint lang-sh code" style="text-align: left; border:none; padding: 10px; border-left: 6px solid green;">brew install nasm i686-elf-gcc qemu  # QEMU, NASM, and GCC</pre>

                    <p style="text-align: left"><br>Installing tools on macOS:</p>
                    <pre class="prettyprint lang-sh code" style="text-align: left; border:none; padding: 10px; border-left: 6px solid green;">
git clone git://git.savannah.gnu.org/grub.git # Now we will download GRUB
git clone https://github.com/vertis/objconv # We download objconv
cd objconv
g++ -o objconv -O2 src/*.cpp # build objconv
echo "export PATH=/opt/homebrew/bin:$PATH" >> ~/.zshrc # add it to our path
cd ..
cd grub
./autogen.sh
cd ..
mkdir grub-build
cd grub-build
../grub/configure --disable-werror TARGET_CC=i686-elf-gcc TARGET_OBJCOPY=i686-elf-objcopy TARGET_STRIP=i686-elf-strip \
TARGET_NM=i686-elf-nm TARGET_RANLIB=i686-elf-ranlib --target=i686-elf
make
make install
                    </pre>
                    <p style="text-align: left"><br>There! Now you have installed GRUB, QEMU, NASM, and GCC onto your Mac. You can now build CeneOS!</p>

                    <h3>Building</h3>
                    <p style="text-align:left">To build it, just run <code class="code-inline">make</code>.</p>
                    <p>You should be treated to this:</p>
                    <img src="../screenshots/screenshot2.png" alt="CeneOS in QEMU" style="width: 600px; height: 400px;">
                </div>
            </div>
        </div>

    </body>
</html>
